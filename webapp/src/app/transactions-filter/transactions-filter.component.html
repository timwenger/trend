<h2>Find Transactions</h2>
<!-- ngIf used to only display the form once the categories have been fetched -->
<form *ngIf="allCategories.length > 0 " #formDirective="ngForm" (ngSubmit)="onSubmit(formDirective)" [formGroup]="filterForm">
	<div class="grid p-fluid">
		<div class="col-12 md:col-6">
			<div class="p-inputgroup">
				<span class="p-inputgroup-addon">Oldest Date</span>      
				<p-calendar formControlName="dateOfOldestTransaction" [showIcon]="true" dateFormat="yy/mm/dd"></p-calendar>
			</div>
		</div>

		<div class="col-12 md:col-6">
			<div class="p-inputgroup">
				<span class="p-inputgroup-addon">Latest Date</span>      
				<p-calendar formControlName="dateOfLatestTransaction" [showIcon]="true" dateFormat="yy/mm/dd"></p-calendar>
			</div>
		</div>

		<div class="col-12 md:col-6">
			<p-multiSelect 
				formControlName="multiSelectDropdown"
				[options]="allCategories" 
				optionLabel="categoryName" 
				display="chip"
				placeholder="(All Categories)"
				selectedItemsLabel="{0} items selected">
			</p-multiSelect>     
		</div>
	</div>

	<div class="col-12 md:col-6">  
		<p-button label="Submit" [disabled]="!filterForm.valid" (onClick)="onSubmit(formDirective)"></p-button>
	</div>
</form>

  <div *ngIf=" !filterForm.valid && filterForm.errors != null">
	  {{ filterForm.errors['datesError']['message']}}
  </div>

<app-transactions [transactions]="transactionsFromFilter"></app-transactions>